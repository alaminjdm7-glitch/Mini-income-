<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Telegram Bot Code</title>
<style>
    body {
        background: #1e1e1e;
        color: #d4d4d4;
        font-family: 'Courier New', monospace;
        padding: 20px;
    }
    pre {
        background: #2d2d2d;
        padding: 15px;
        border-radius: 8px;
        overflow-x: auto;
        white-space: pre-wrap;
        word-wrap: break-word;
    }
    .comment { color: #6a9955; font-style: italic; }
    .keyword { color: #569cd6; font-weight: bold; }
    .string { color: #ce9178; }
</style>
</head>
<body>

<h2>Python Telegram Bot Code</h2>

<pre>
<span class="comment">import telebot</span>
<span class="comment">from telebot import types</span>
<span class="comment">import sqlite3</span>
<span class="comment">import time</span>
<span class="comment">import threading</span>

<span class="comment"># ----------- ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® -----------</span>
BOT_TOKEN = <span class="string">'8439942678:AAEUHHv3iH0BCiX0qoPr-xU11mNtx0fKwtc'</span>  <span class="comment"># ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Bot Token</span>
ADMIN_ID = 6584555182                                         <span class="comment"># ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Admin ID</span>
USER_LIMIT = 500                                               <span class="comment"># ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü</span>

bot = telebot.TeleBot(BOT_TOKEN)

<span class="comment"># ----------- ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ -----------</span>
def init_db():
    conn = sqlite3.connect('bot_database.db', check_same_thread=False)
    cursor = conn.cursor()
    <span class="comment"># ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤</span>
    cursor.execute(<span class="string">'''CREATE TABLE IF NOT EXISTS users (
                        user_id INTEGER PRIMARY KEY,
                        balance INTEGER DEFAULT 0
                    )'''</span>)
    <span class="comment"># ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤</span>
    cursor.execute(<span class="string">'''CREATE TABLE IF NOT EXISTS withdrawals (
                        id INTEGER PRIMARY KEY AUTOINCREMENT,
                        user_id INTEGER,
                        amount INTEGER,
                        number TEXT,
                        method TEXT
                    )'''</span>)
    conn.commit()
    conn.close()

init_db()

<span class="comment"># ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®</span>
def get_db_connection():
    return sqlite3.connect('bot_database.db', check_same_thread=False)

def get_total_users():
    conn = get_db_connection()
    cursor = conn.cursor()
    cursor.execute(<span class="string">"SELECT COUNT(*) FROM users"</span>)
    count = cursor.fetchone()[0]
    conn.close()
    return count

def is_user_exists(user_id):
    conn = get_db_connection()
    cursor = conn.cursor()
    cursor.execute(<span class="string">"SELECT user_id FROM users WHERE user_id = ?"</span>, (user_id,))
    result = cursor.fetchone()
    conn.close()
    return result is not None

def add_user(user_id):
    if get_total_users() &gt;= USER_LIMIT:
        return False <span class="comment"># ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡¶∂‡ßá‡¶∑</span>
    conn = get_db_connection()
    cursor = conn.cursor()
    cursor.execute(<span class="string">"INSERT INTO users (user_id, balance) VALUES (?, ?)"</span>, (user_id, 0))
    conn.commit()
    conn.close()
    return True

def get_balance(user_id):
    conn = get_db_connection()
    cursor = conn.cursor()
    cursor.execute(<span class="string">"SELECT balance FROM users WHERE user_id = ?"</span>, (user_id,))
    result = cursor.fetchone()
    conn.close()
    return result[0] if result else 0

def update_balance(user_id, amount):
    conn = get_db_connection()
    cursor = conn.cursor()
    cursor.execute(<span class="string">"UPDATE users SET balance = balance + ? WHERE user_id = ?"</span>, (amount, user_id))
    conn.commit()
    conn.close()

<span class="comment"># ----------- ‡¶Æ‡ßá‡¶á‡¶® ‡¶Æ‡ßá‡¶®‡ßÅ ‡¶ï‡ßÄ‡¶¨‡ßã‡¶∞‡ßç‡¶° -----------</span>
def main_menu():
    markup = types.ReplyKeyboardMarkup(row_width=2, resize_keyboard=True)
    btn1 = types.KeyboardButton("üè† Home")
    btn2 = types.KeyboardButton("üìã Task")
    btn3 = types.KeyboardButton("üí∞ Withdraw")
    btn4 = types.KeyboardButton("üìû Support")
    markup.add(btn1, btn2, btn3, btn4)
    return markup

<span class="comment"># ----------- ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ -----------</span>
@bot.message_handler(commands=['start'])
def send_welcome(message):
    user_id = message.chat.id
    
    if not is_user_exists(user_id):
        if add_user(user_id):
            bot.send_message(user_id, "‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ! ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡¶ü‡ßá ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§", reply_markup=main_menu())
        else:
            bot.send_message(user_id, "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§! ‡¶è‡¶á ‡¶¨‡¶ü‡ßá‡¶∞ ‡ß´‡ß¶‡ß¶ ‡¶ú‡¶® ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§")
    else:
        bot.send_message(user_id, "‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶ú‡ßü‡ßá‡¶® ‡¶Ü‡¶õ‡ßá‡¶®!", reply_markup=main_menu())

<span class="comment"># ----------- ‡¶¨‡¶æ‡¶ü‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ -----------</span>
@bot.message_handler(func=lambda message: True)
def handle_buttons(message):
    user_id = message.chat.id
    text = message.text

    if text == "üè† Home":
        bal = get_balance(user_id)
        msg = f"üë§ &lt;b&gt;User Profile&lt;/b&gt;\n\nüÜî ID: `{user_id}`\nüí∞ Balance: &lt;b&gt;{bal} Points&lt;/b&gt;\n\n‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶§‡ßá Task ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"
        bot.send_message(user_id, msg, parse_mode='HTML')

    elif text == "üìã Task":
        bot.send_message(user_id, "‚è≥ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá... ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡ß´ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§")
        time.sleep(2)
        reward = 10
        update_balance(user_id, reward)
        bot.send_message(user_id, f"‚úÖ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶™‡¶®‡¶ø {reward} ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§")

    elif text == "üí∞ Withdraw":
        bal = get_balance(user_id)
        if bal &lt; 100:
            bot.send_message(user_id, f"‚ùå ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶ï‡¶Æ‡•§ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡ßß‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü‡•§\n‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶õ‡ßá: {bal} ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü")
        else:
            msg = bot.send_message(user_id, "‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (Bkash/Nagad):")
            bot.register_next_step_handler(msg, process_payment_method)

    elif text == "üìû Support":
        bot.send_message(user_id, "‡¶Ø‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡ßü ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®: @YourAdminUserName")

<span class="comment"># ----------- ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ -----------</span>
def process_payment_method(message):
    user_id = message.chat.id
    method = message.text
    msg = bot.send_message(user_id, "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶ü‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®:")
    bot.register_next_step_handler(msg, process_number, method)

def process_number(message, method):
    user_id = message.chat.id
    number = message.text
    msg = bot.send_message(user_id, "‡¶ï‡¶§ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®? (‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡ßü ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®)")
    bot.register_next_step_handler(msg, process_amount, method, number)

def process_amount(message, method, number):
    user_id = message.chat.id
    try:
        amount = int(message.text)
        current_bal = get_balance(user_id)
        
        if amount &gt; current_bal:
            bot.send_message(user_id, "‚ùå ‡¶Ö‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏!")
        elif amount &lt; 100:
            bot.send_message(user_id, "‚ùå ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡ßß‡ß¶‡ß¶ ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§")
        else:
            update_balance(user_id, -amount)
            
            conn = get_db_connection()
            cursor = conn.cursor()
            cursor.execute(<span class="string">"INSERT INTO withdrawals (user_id, amount, number, method) VALUES (?, ?, ?, ?)"</span>, 
                           (user_id, amount, number, method))
            conn.commit()
            conn.close()
            
            bot.send_message(user_id, "‚úÖ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§")
            
            bot.send_message(ADMIN_ID, f"üîî &lt;b&gt;New Withdraw Request!&lt;/b&gt;\nUser: {user_id}\nAmount: {amount}\nMethod: {method}\nNumber: {number}", parse_mode='HTML')
            
    except ValueError:
        bot.send_message(user_id, "‚ùå ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§")

<span class="comment"># ----------- ‡¶Ö‡¶ü‡ßã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ -----------</span>
def auto_ad_sender():
    while True:
        time.sleep(3600)
        ad_message = "üì¢ &lt;b&gt;SPONSORED AD&lt;/b&gt;\n\n‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®! ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá: @YourChannelLink"
        
        conn = get_db_connection()
        cursor = conn.cursor()
        cursor.execute("SELECT user_id FROM users")
        users = cursor.fetchall()
        conn.close()
        
        print(f"Sending Auto Ad to {len(users)} users...")
        
        for user in users:
            try:
                bot.send_message(user[0], ad_message, parse_mode='HTML')
                time.sleep(0.5)
            except Exception as e:
                print(f"Failed to send to {user[0]}: {e}")

ad_thread = threading.Thread(target=auto_ad_sender)
ad_thread.daemon = True
ad_thread.start()

<span class="comment"># ----------- ‡¶¨‡¶ü ‡¶ö‡¶æ‡¶≤‡ßÅ -----------</span>
print("Bot is running...")
bot.infinity_polling()
</pre>

</body>
</html>
