<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Telegram Bot Code + Rewarded Ads</title>
<style>
    body { background:#1e1e1e; color:#d4d4d4; font-family:'Courier New', monospace; padding:20px;}
    pre { background:#2d2d2d; padding:15px; border-radius:8px; overflow-x:auto; white-space:pre-wrap; word-wrap:break-word;}
    .comment { color:#6a9955; font-style:italic;}
    .keyword { color:#569cd6; font-weight:bold;}
    .string { color:#ce9178;}
</style>
</head>
<body>

<h2>Telegram Bot + Rewarded Ads (10 ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶°)</h2>

<pre>
<span class="comment">import telebot</span>
<span class="comment">from telebot import types</span>
<span class="comment">import sqlite3, time, threading</span>

<span class="comment"># ----------- ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® -----------</span>
BOT_TOKEN = <span class="string">'8439942678:AAEUHHv3iH0BCiX0qoPr-xU11mNtx0fKwtc'</span>
ADMIN_ID = 6584555182
USER_LIMIT = 500

bot = telebot.TeleBot(BOT_TOKEN)

<span class="comment"># ----------- ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ -----------</span>
def init_db():
    conn = sqlite3.connect('bot_database.db', check_same_thread=False)
    cursor = conn.cursor()
    cursor.execute(<span class="string">'''CREATE TABLE IF NOT EXISTS users (user_id INTEGER PRIMARY KEY, balance INTEGER DEFAULT 0)'''</span>)
    cursor.execute(<span class="string">'''CREATE TABLE IF NOT EXISTS withdrawals (id INTEGER PRIMARY KEY AUTOINCREMENT, user_id INTEGER, amount INTEGER, number TEXT, method TEXT)'''</span>)
    conn.commit(); conn.close()

init_db()

<span class="comment"># ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®</span>
def get_db_connection(): return sqlite3.connect('bot_database.db', check_same_thread=False)
def get_total_users():
    conn = get_db_connection(); cursor = conn.cursor()
    cursor.execute("SELECT COUNT(*) FROM users")
    count = cursor.fetchone()[0]; conn.close(); return count
def is_user_exists(user_id):
    conn = get_db_connection(); cursor = conn.cursor()
    cursor.execute("SELECT user_id FROM users WHERE user_id = ?", (user_id,))
    result = cursor.fetchone(); conn.close(); return result is not None
def add_user(user_id):
    if get_total_users() &gt;= USER_LIMIT: return False
    conn = get_db_connection(); cursor = conn.cursor()
    cursor.execute("INSERT INTO users (user_id, balance) VALUES (?, ?)", (user_id,0))
    conn.commit(); conn.close(); return True
def get_balance(user_id):
    conn = get_db_connection(); cursor = conn.cursor()
    cursor.execute("SELECT balance FROM users WHERE user_id = ?", (user_id,))
    result = cursor.fetchone(); conn.close()
    return result[0] if result else 0
def update_balance(user_id, amount):
    conn = get_db_connection(); cursor = conn.cursor()
    cursor.execute("UPDATE users SET balance = balance + ? WHERE user_id = ?", (amount,user_id))
    conn.commit(); conn.close()

<span class="comment"># ----------- ‡¶Æ‡ßá‡¶á‡¶® ‡¶Æ‡ßá‡¶®‡ßÅ -----------</span>
def main_menu():
    markup = types.ReplyKeyboardMarkup(row_width=2, resize_keyboard=True)
    markup.add(types.KeyboardButton("üè† Home"), types.KeyboardButton("üìã Task"),
               types.KeyboardButton("üí∞ Withdraw"), types.KeyboardButton("üìû Support"))
    return markup

<span class="comment"># ----------- ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° -----------</span>
@bot.message_handler(commands=['start'])
def send_welcome(message):
    user_id = message.chat.id
    if not is_user_exists(user_id):
        if add_user(user_id): bot.send_message(user_id, "‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ! ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§", reply_markup=main_menu())
        else: bot.send_message(user_id, "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§! ‡¶¨‡¶ü‡ßá‡¶∞ ‡ß´‡ß¶‡ß¶ ‡¶ú‡¶® ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡•§")
    else: bot.send_message(user_id, "‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶ú‡ßü‡ßá‡¶® ‡¶Ü‡¶õ‡ßá‡¶®!", reply_markup=main_menu())

<span class="comment"># ----------- ‡¶¨‡¶æ‡¶ü‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ -----------</span>
@bot.message_handler(func=lambda message: True)
def handle_buttons(message):
    user_id = message.chat.id
    text = message.text
    if text == "üè† Home":
        bal = get_balance(user_id)
        bot.send_message(user_id,f"üë§ <b>User Profile</b>\n\nüÜî ID: `{user_id}`\nüí∞ Balance: <b>{bal} ‡¶ü‡¶æ‡¶ï‡¶æ</b>\n\n‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶§‡ßá Task ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§", parse_mode='HTML')

    elif text == "üìã Task":
        bot.send_message(user_id,"‚è≥ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá... ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡ß´ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§")
        time.sleep(2)
        reward = 10
        update_balance(user_id, reward)
        bot.send_message(user_id,f"‚úÖ ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶™‡¶®‡¶ø {reward} ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§\nüì¢ Rewarded Ad ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø JS SDK ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")

    elif text == "üí∞ Withdraw":
        bal = get_balance(user_id)
        if bal &lt; 100: bot.send_message(user_id,f"‚ùå ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶ï‡¶Æ‡•§ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡ßß‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ‡•§\n‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶õ‡ßá: {bal} ‡¶ü‡¶æ‡¶ï‡¶æ")
        else:
            msg = bot.send_message(user_id,"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (Bkash/Nagad):")
            bot.register_next_step_handler(msg, process_payment_method)

    elif text == "üìû Support":
        bot.send_message(user_id,"‡¶Ø‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡ßü ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®: @YourAdminUserName")

<span class="comment"># ----------- ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ -----------</span>
def process_payment_method(message):
    user_id = message.chat.id
    method = message.text
    msg = bot.send_message(user_id,"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶ü‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®:")
    bot.register_next_step_handler(msg, process_number, method)
def process_number(message, method):
    user_id = message.chat.id
    number = message.text
    msg = bot.send_message(user_id,"‡¶ï‡¶§ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®? (‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡ßü ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®)")
    bot.register_next_step_handler(msg, process_amount, method, number)
def process_amount(message, method, number):
    user_id = message.chat.id
    try:
        amount = int(message.text)
        current_bal = get_balance(user_id)
        if amount &gt; current_bal: bot.send_message(user_id,"‚ùå ‡¶Ö‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏!")
        elif amount &lt; 100: bot.send_message(user_id,"‚ùå ‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡ßß‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§")
        else:
            update_balance(user_id,-amount)
            conn = get_db_connection(); cursor = conn.cursor()
            cursor.execute("INSERT INTO withdrawals (user_id,amount,number,method) VALUES (?,?,?,?)",(user_id,amount,number,method))
            conn.commit(); conn.close()
            bot.send_message(user_id,"‚úÖ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§")
            bot.send_message(ADMIN_ID,f"üîî <b>New Withdraw Request!</b>\nUser: {user_id}\nAmount: {amount}\nMethod: {method}\nNumber: {number}", parse_mode='HTML')

<span class="comment"># ----------- ‡¶Ö‡¶ü‡ßã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ -----------</span>
def auto_ad_sender():
    while True:
        time.sleep(3600)
        ad_message = "üì¢ <b>SPONSORED AD</b>\n\n‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®! ‡¶ú‡ßü‡ßá‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®: @YourChannelLink"
        conn = get_db_connection(); cursor = conn.cursor(); cursor.execute("SELECT user_id FROM users")
        users = cursor.fetchall(); conn.close()
        print(f"Sending Auto Ad to {len(users)} users...")
        for user in users:
            try: bot.send_message(user[0], ad_message, parse_mode='HTML'); time.sleep(0.5)
            except Exception as e: print(f"Failed to send to {user[0]}: {e}")
ad_thread = threading.Thread(target=auto_ad_sender); ad_thread.daemon=True; ad_thread.start()

print("Bot is running...")
bot.infinity_polling()
</pre>

<!-- Updated Rewarded Popup SDK with your code -->
<script src='//libtl.com/sdk.js' data-zone='10314535' data-sdk='show_10314535'></script>
<script>
// Rewarded Popup
show_10314535('pop').then(() => {
    // user watch ad till the end or close it in interstitial format
    // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶° ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá 10 ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶∞‡¶ø‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°
    console.log("User watched the ad. Reward 10 ‡¶ü‡¶æ‡¶ï‡¶æ!");
}).catch(e => {
    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶è‡¶° ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡¶≤‡ßá ‡¶¨‡¶æ ‡¶è‡¶∞‡¶∞ ‡¶π‡¶≤‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ
    console.log("Ad skipped or error.");
});
</script>

</body>
</html>
