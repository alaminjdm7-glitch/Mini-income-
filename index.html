<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quick Earn ‚Äì Pro</title>

<script src="//libtl.com/sdk.js" data-zone="10314131" data-sdk="show_10314131"></script>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{margin:0;background:#0f0f0f;color:#fff;font-family:Arial;}
.container{max-width:420px;margin:auto;padding:15px;}
.page{display:none;}
.page.active{display:block;}
.card{background:#1c1c1c;padding:15px;border-radius:12px;margin-bottom:15px;}
.notice{background:#fff3b0;color:#000;padding:10px;border-radius:8px;margin-bottom:12px;}
button{width:100%;padding:12px;margin-top:10px;border:none;border-radius:8px;font-size:16px;background:#ff3c3c;color:#fff;}
input,select{width:100%;padding:10px;margin-top:10px;background:#111;border:1px solid #333;color:#fff;border-radius:6px;}
.history{max-height:200px;overflow:auto;margin-top:10px;}
.nav{position:fixed;bottom:0;left:0;right:0;background:#111;display:flex;justify-content:space-around;padding:10px 0;border-top:1px solid #333;}
.nav div{color:#aaa;font-weight:bold;cursor:pointer;}
.nav div.active{color:#00ff99;}
</style>
</head>

<body>

<div class="container">

<!-- HOME -->
<div class="page active" id="home">
    <div class="card">
        <div class="notice">
            ‡¶è‡¶ü‡¶ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶´‡¶ø‡¶∏‡ßá‡¶∞ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶∏‡¶æ‡¶á‡¶ü‡•§ ‡¶è‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶∞‡¶æ‡¶ß‡ßÅ‡¶∞‡¶æ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
        </div>
        <p>üë§ <b id="nameBox"></b></p>
        <p>üÜî <b id="idBox"></b></p>
        <h2>Balance: <span id="balanceBox">0</span>‡ß≥</h2>
    </div>
</div>

<!-- TASKS -->
<div class="page" id="tasks">
    <div class="card">
        <h3>üéØ Tasks</h3>
        <button onclick="joinChannel(0)">Join Channel 1 (+5‡ß≥)</button>
        <button onclick="joinChannel(1)">Join Channel 2 (+5‡ß≥)</button>
        <button onclick="joinChannel(2)">Join Channel 3 (+5‡ß≥)</button>
        <button onclick="viewChannel()">View Task (+1‡ß≥ first)</button>
        <button onclick="watchAd()">Watch Ad (+5‡ß≥)</button>
        <p>Ads Watched: <b id="adsWatched">0/30</b></p>
    </div>

    <div class="card">
        <h3>üìú Task History</h3>
        <div id="taskHistory" class="history"></div>
    </div>
</div>

<!-- WITHDRAW -->
<div class="page" id="withdraw">
    <div class="card">
        <h3>üí∏ Withdraw</h3>
        <input id="amount" type="number" placeholder="Amount (Min 500)">
        <input id="number" placeholder="Bkash / Nagad Number">
        <select id="method">
            <option>Bkash</option>
            <option>Nagad</option>
            <option>Rocket</option>
        </select>
        <button onclick="sendWithdraw()" style="background:#00cc66;">Submit Withdraw</button>
    </div>

    <div class="card">
        <h3>üßæ Withdraw History</h3>
        <div id="withdrawHistory" class="history"></div>
    </div>
</div>

<!-- PROFILE -->
<div class="page" id="profile">
    <div class="card">
        <h3>üë§ Profile</h3>
        <p>Name: <b id="pName"></b></p>
        <p>ID: <b id="pId"></b></p>
        <p>Balance: <b id="pBalance"></b>‡ß≥</p>
        <p>Ads Watched: <b id="pAds"></b></p>
    </div>
</div>

</div>

<!-- NAV -->
<div class="nav">
    <div class="active" onclick="openPage('home',this)">Home</div>
    <div onclick="openPage('tasks',this)">Tasks</div>
    <div onclick="openPage('withdraw',this)">Withdraw</div>
    <div onclick="openPage('profile',this)">Profile</div>
</div>

<script>
const tg=Telegram.WebApp;tg.expand();
let u=tg.initDataUnsafe.user||{};
let UID=u.id||Date.now(),UN=u.first_name||"Guest";

const AD_REWARD=5,JOIN_REWARD=5,VIEW_REWARD=1,MAX_AD=30,MIN_WD=500;
const JOIN_LINKS=["https://t.me/DevleparX_Namid","https://t.me/GmailMarketingB","https://t.me/BDIncomep"];
const VIEW_LINK="https://t.me/GmailMarketing_99bot";

let balance=+localStorage.getItem("bal"+UID)||0;
let ads=+localStorage.getItem("ads"+UID)||0;
let th=JSON.parse(localStorage.getItem("th"+UID)||"[]");
let wh=JSON.parse(localStorage.getItem("wh"+UID)||"[]");

function ui(){
nameBox.innerText=pName.innerText=UN;
idBox.innerText=pId.innerText=UID;
balanceBox.innerText=pBalance.innerText=balance;
adsWatched.innerText=pAds.innerText=ads+"/30";
}
ui();

function openPage(id,el){
document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll(".nav div").forEach(n=>n.classList.remove("active"));
el.classList.add("active");
}

function save(){localStorage.setItem("bal"+UID,balance);localStorage.setItem("ads"+UID,ads);}

function watchAd(){
if(ads>=MAX_AD)return alert("‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡¶∂‡ßá‡¶∑");
show_10314131("pop").then(()=>{
ads++;balance+=AD_REWARD;save();
th.push({t:"Ad",r:AD_REWARD,d:new Date().toLocaleString()});
localStorage.setItem("th"+UID,JSON.stringify(th));
renderTH();ui();
});
}

function joinChannel(i){
let k="j"+UID+i;if(localStorage.getItem(k))return alert("Already joined");
window.open(JOIN_LINKS[i]);
setTimeout(()=>{
localStorage.setItem(k,1);
balance+=JOIN_REWARD;save();
th.push({t:"Join",r:JOIN_REWARD,d:new Date().toLocaleString()});
localStorage.setItem("th"+UID,JSON.stringify(th));
renderTH();ui();
},3000);
}

function viewChannel(){
let k="v"+UID;
if(!localStorage.getItem(k)){
localStorage.setItem(k,1);
window.open(VIEW_LINK);
balance+=VIEW_REWARD;save();
th.push({t:"View",r:VIEW_REWARD,d:new Date().toLocaleString()});
localStorage.setItem("th"+UID,JSON.stringify(th));
renderTH();ui();
}else watchAd();
}

function sendWithdraw(){
let a=+amount.value,n=number.value;
if(balance<MIN_WD)return alert("‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶π‡ßü‡¶®‡¶ø");
if(a>balance)return alert("Balance ‡¶ï‡¶Æ");
balance-=a;save();
wh.push({a,n,m:method.value,d:new Date().toLocaleString()});
localStorage.setItem("wh"+UID,JSON.stringify(wh));
renderWH();ui();
alert("Withdraw Request Submitted");
}

function renderTH(){
taskHistory.innerHTML="";
th.slice().reverse().forEach(x=>taskHistory.innerHTML+=`<p>${x.t} +${x.r}‡ß≥</p>`);
}
function renderWH(){
withdrawHistory.innerHTML="";
wh.slice().reverse().forEach(x=>withdrawHistory.innerHTML+=`<p>${x.a}‡ß≥ - ${x.m}</p>`);
}
renderTH();renderWH();
</script>
</body>
</html>
